<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Channel Extension Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Extension/Channel" class="dashAnchor"></a>

    <a title="Channel Extension Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          NIOHTTP2 1.20.1 Docs
        </a>
         (73% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/apple/swift-nio-http2">
            <img class="header-icon" src="../img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fapple.github.io%2Fswift-nio-http2%2Fdocs%2F1.20.1%2FNIOHTTP2%2Fdocsets%2FNIOHTTP2.xml">
            <img class="header-icon" src="../img/dash.png" alt="Dash"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">NIOHTTP2 Reference</a>
      <img class="carat" src="../img/carat.png" alt=""/>
      Channel Extension Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/HTTP2FramePayloadToHTTP1ClientCodec.html">HTTP2FramePayloadToHTTP1ClientCodec</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/HTTP2FramePayloadToHTTP1ClientCodec/HTTPProtocol.html">– HTTPProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/HTTP2FramePayloadToHTTP1ServerCodec.html">HTTP2FramePayloadToHTTP1ServerCodec</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/HTTP2StreamMultiplexer.html">HTTP2StreamMultiplexer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/HTTP2ToHTTP1ClientCodec.html">HTTP2ToHTTP1ClientCodec</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/HTTP2ToHTTP1ServerCodec.html">HTTP2ToHTTP1ServerCodec</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/NIOHTTP2Handler.html">NIOHTTP2Handler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/NIOHTTP2Handler/ParserMode.html">– ParserMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/NIOHTTP2Handler/ValidationState.html">– ValidationState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Global%20Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global%20Variables.html#/s:8NIOHTTP20A22SupportedALPNProtocolsSaySSGvp">NIOHTTP2SupportedALPNProtocols</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global%20Variables.html#/s:8NIOHTTP218nioDefaultSettingsSayAA12HTTP2SettingVGvp">nioDefaultSettings</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors.html">NIOHTTP2Errors</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/ExcessiveOutboundFrameBuffering.html">– ExcessiveOutboundFrameBuffering</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidALPNToken.html">– InvalidALPNToken</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/NoSuchStream.html">– NoSuchStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/StreamClosed.html">– StreamClosed</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/BadClientMagic.html">– BadClientMagic</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/BadStreamStateTransition.html">– BadStreamStateTransition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidFlowControlWindowSize.html">– InvalidFlowControlWindowSize</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/FlowControlViolation.html">– FlowControlViolation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidSetting.html">– InvalidSetting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/IOOnClosedConnection.html">– IOOnClosedConnection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/ReceivedBadSettings.html">– ReceivedBadSettings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/MaxStreamsViolation.html">– MaxStreamsViolation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/StreamIDTooSmall.html">– StreamIDTooSmall</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/MissingPreface.html">– MissingPreface</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/CreatedStreamAfterGoaway.html">– CreatedStreamAfterGoaway</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidStreamIDForPeer.html">– InvalidStreamIDForPeer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/RaisedGoawayLastStreamID.html">– RaisedGoawayLastStreamID</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidWindowIncrementSize.html">– InvalidWindowIncrementSize</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/PushInViolationOfSetting.html">– PushInViolationOfSetting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/Unsupported.html">– Unsupported</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/UnableToSerializeFrame.html">– UnableToSerializeFrame</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/UnableToParseFrame.html">– UnableToParseFrame</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/MissingPseudoHeader.html">– MissingPseudoHeader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/DuplicatePseudoHeader.html">– DuplicatePseudoHeader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/PseudoHeaderAfterRegularHeader.html">– PseudoHeaderAfterRegularHeader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/UnknownPseudoHeader.html">– UnknownPseudoHeader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidPseudoHeaders.html">– InvalidPseudoHeaders</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/MissingHostHeader.html">– MissingHostHeader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/DuplicateHostHeader.html">– DuplicateHostHeader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/EmptyPathHeader.html">– EmptyPathHeader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidStatusValue.html">– InvalidStatusValue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/PriorityCycle.html">– PriorityCycle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/TrailersWithoutEndStream.html">– TrailersWithoutEndStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/InvalidHTTP2HeaderFieldName.html">– InvalidHTTP2HeaderFieldName</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/ForbiddenHeaderField.html">– ForbiddenHeaderField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/ContentLengthViolated.html">– ContentLengthViolated</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/ExcessiveEmptyDataFrames.html">– ExcessiveEmptyDataFrames</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/ExcessivelyLargeHeaderBlock.html">– ExcessivelyLargeHeaderBlock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/NoStreamIDAvailable.html">– NoStreamIDAvailable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NIOHTTP2Errors/StreamError.html">– StreamError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/ByteBuffer.html">ByteBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Channel.html">Channel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/ChannelPipeline.html">ChannelPipeline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions.html#/CompoundOutboundBuffer">CompoundOutboundBuffer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Int32.html">Int32</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/UInt32.html">UInt32</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols.html#/s:8NIOHTTP20A5ErrorP">NIOHTTP2Error</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2ErrorCode.html">HTTP2ErrorCode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2Frame.html">HTTP2Frame</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2Frame/StreamPriorityData.html">– StreamPriorityData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2Frame/FramePayload.html">– FramePayload</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2PingData.html">HTTP2PingData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2Setting.html">HTTP2Setting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2SettingsParameter.html">HTTP2SettingsParameter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2StreamChannelOptions.html">HTTP2StreamChannelOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2StreamChannelOptions/Types.html">– Types</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTP2StreamID.html">HTTP2StreamID</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NIOHTTP2BulkStreamWindowChangeEvent.html">NIOHTTP2BulkStreamWindowChangeEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NIOHTTP2StreamCreatedEvent.html">NIOHTTP2StreamCreatedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NIOHTTP2StreamState.html">NIOHTTP2StreamState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/NIOHTTP2WindowUpdatedEvent.html">NIOHTTP2WindowUpdatedEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/StreamClosedEvent.html">StreamClosedEvent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:8NIOHTTP213HTTP2Settingsa">HTTP2Settings</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:8NIOHTTP214StreamIDOptiona">StreamIDOption</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Channel</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Channel</span></code></pre>

                </div>
              </div>
            
          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore7ChannelP8NIOHTTP2E22configureHTTP2Pipeline4mode20initialLocalSettings8position29inboundStreamStateInitializerAA15EventLoopFutureCyAD0eM11MultiplexerCGAD0C7HandlerC10ParserModeO_SayAD0E7SettingVGAA0bF0C8PositionOAKyytGAaB_p_AD0eM2IDVtcSgtF"></a>
                    <a name="//apple_ref/swift/Method/configureHTTP2Pipeline(mode:initialLocalSettings:position:inboundStreamStateInitializer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore7ChannelP8NIOHTTP2E22configureHTTP2Pipeline4mode20initialLocalSettings8position29inboundStreamStateInitializerAA15EventLoopFutureCyAD0eM11MultiplexerCGAD0C7HandlerC10ParserModeO_SayAD0E7SettingVGAA0bF0C8PositionOAKyytGAaB_p_AD0eM2IDVtcSgtF">configureHTTP2Pipeline(mode:<wbr>initialLocalSettings:<wbr>position:<wbr>inboundStreamStateInitializer:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configures a <code>ChannelPipeline</code> to speak HTTP/2.</p>

<p>In general this is not entirely useful by itself, as HTTP/2 is a negotiated protocol. This helper does not handle negotiation.
Instead, this simply adds the handlers required to speak HTTP/2 after negotiation has completed, or when agreed by prior knowledge.
Whenever possible use this function to setup a HTTP/2 server pipeline, as it allows that pipeline to evolve without breaking your code.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">deprecated</span><span class="p">,</span> <span class="nv">renamed</span><span class="p">:</span> <span class="s">"configureHTTP2Pipeline(mode:initialLocalSettings:position:targetWindowSize:inboundStreamInitializer:﹚"</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">configureHTTP2Pipeline</span><span class="p">(</span><span class="nv">mode</span><span class="p">:</span> <span class="kt"><a href="../Classes/NIOHTTP2Handler.html">NIOHTTP2Handler</a></span><span class="o">.</span><span class="kt">ParserMode</span><span class="p">,</span>
                                   <span class="nv">initialLocalSettings</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/HTTP2Setting.html">HTTP2Setting</a></span><span class="p">]</span> <span class="o">=</span> <span class="n"><a href="../Global%20Variables.html#/s:8NIOHTTP218nioDefaultSettingsSayAA12HTTP2SettingVGvp">nioDefaultSettings</a></span><span class="p">,</span>
                                   <span class="nv">position</span><span class="p">:</span> <span class="kt">ChannelPipeline</span><span class="o">.</span><span class="kt">Position</span> <span class="o">=</span> <span class="o">.</span><span class="n">last</span><span class="p">,</span>
                                   <span class="nv">inboundStreamStateInitializer</span><span class="p">:</span> <span class="p">((</span><span class="kt">Channel</span><span class="p">,</span> <span class="kt"><a href="../Structs/HTTP2StreamID.html">HTTP2StreamID</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/HTTP2StreamMultiplexer.html">HTTP2StreamMultiplexer</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>mode</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The mode this pipeline will operate in, server or client.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>initialLocalSettings</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The settings that will be used when establishing the connection. These will be sent to the peer as part of the
handshake.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>position</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The position in the pipeline into which to insert these handlers.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>inboundStreamStateInitializer</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that will be called whenever the remote peer initiates a new stream. This should almost always
be provided, especially on servers.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An <code>EventLoopFuture</code> containing the <code><a href="../Classes/HTTP2StreamMultiplexer.html">HTTP2StreamMultiplexer</a></code> inserted into this pipeline, which can be used to initiate new streams.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore7ChannelP8NIOHTTP2E22configureHTTP2Pipeline4mode20initialLocalSettings8position16targetWindowSize29inboundStreamStateInitializerAA15EventLoopFutureCyAD0eP11MultiplexerCGAD0C7HandlerC10ParserModeO_SayAD0E7SettingVGAA0bF0C8PositionOSiALyytGAaB_p_AD0eP2IDVtcSgtF"></a>
                    <a name="//apple_ref/swift/Method/configureHTTP2Pipeline(mode:initialLocalSettings:position:targetWindowSize:inboundStreamStateInitializer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore7ChannelP8NIOHTTP2E22configureHTTP2Pipeline4mode20initialLocalSettings8position16targetWindowSize29inboundStreamStateInitializerAA15EventLoopFutureCyAD0eP11MultiplexerCGAD0C7HandlerC10ParserModeO_SayAD0E7SettingVGAA0bF0C8PositionOSiALyytGAaB_p_AD0eP2IDVtcSgtF">configureHTTP2Pipeline(mode:<wbr>initialLocalSettings:<wbr>position:<wbr>targetWindowSize:<wbr>inboundStreamStateInitializer:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configures a <code>ChannelPipeline</code> to speak HTTP/2.</p>

<p>In general this is not entirely useful by itself, as HTTP/2 is a negotiated protocol. This helper does not handle negotiation.
Instead, this simply adds the handlers required to speak HTTP/2 after negotiation has completed, or when agreed by prior knowledge.
Whenever possible use this function to setup a HTTP/2 server pipeline, as it allows that pipeline to evolve without breaking your code.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">deprecated</span><span class="p">,</span> <span class="nv">renamed</span><span class="p">:</span> <span class="s">"configureHTTP2Pipeline(mode:initialLocalSettings:position:targetWindowSize:inboundStreamInitializer:﹚"</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">configureHTTP2Pipeline</span><span class="p">(</span><span class="nv">mode</span><span class="p">:</span> <span class="kt"><a href="../Classes/NIOHTTP2Handler.html">NIOHTTP2Handler</a></span><span class="o">.</span><span class="kt">ParserMode</span><span class="p">,</span>
                                   <span class="nv">initialLocalSettings</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/HTTP2Setting.html">HTTP2Setting</a></span><span class="p">]</span> <span class="o">=</span> <span class="n"><a href="../Global%20Variables.html#/s:8NIOHTTP218nioDefaultSettingsSayAA12HTTP2SettingVGvp">nioDefaultSettings</a></span><span class="p">,</span>
                                   <span class="nv">position</span><span class="p">:</span> <span class="kt">ChannelPipeline</span><span class="o">.</span><span class="kt">Position</span> <span class="o">=</span> <span class="o">.</span><span class="n">last</span><span class="p">,</span>
                                   <span class="nv">targetWindowSize</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
                                   <span class="nv">inboundStreamStateInitializer</span><span class="p">:</span> <span class="p">((</span><span class="kt">Channel</span><span class="p">,</span> <span class="kt"><a href="../Structs/HTTP2StreamID.html">HTTP2StreamID</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/HTTP2StreamMultiplexer.html">HTTP2StreamMultiplexer</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>mode</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The mode this pipeline will operate in, server or client.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>initialLocalSettings</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The settings that will be used when establishing the connection. These will be sent to the peer as part of the
handshake.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>position</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The position in the pipeline into which to insert these handlers.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>targetWindowSize</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The target size of the HTTP/2 flow control window.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>inboundStreamStateInitializer</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that will be called whenever the remote peer initiates a new stream. This should almost always
be provided, especially on servers.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An <code>EventLoopFuture</code> containing the <code><a href="../Classes/HTTP2StreamMultiplexer.html">HTTP2StreamMultiplexer</a></code> inserted into this pipeline, which can be used to initiate new streams.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore7ChannelP8NIOHTTP2E22configureHTTP2Pipeline4mode20initialLocalSettings8position16targetWindowSize24inboundStreamInitializerAA15EventLoopFutureCyAD0eP11MultiplexerCGAD0C7HandlerC10ParserModeO_SayAD0E7SettingVGAA0bF0C8PositionOSiALyytGAaB_pcSgtF"></a>
                    <a name="//apple_ref/swift/Method/configureHTTP2Pipeline(mode:initialLocalSettings:position:targetWindowSize:inboundStreamInitializer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore7ChannelP8NIOHTTP2E22configureHTTP2Pipeline4mode20initialLocalSettings8position16targetWindowSize24inboundStreamInitializerAA15EventLoopFutureCyAD0eP11MultiplexerCGAD0C7HandlerC10ParserModeO_SayAD0E7SettingVGAA0bF0C8PositionOSiALyytGAaB_pcSgtF">configureHTTP2Pipeline(mode:<wbr>initialLocalSettings:<wbr>position:<wbr>targetWindowSize:<wbr>inboundStreamInitializer:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configures a <code>ChannelPipeline</code> to speak HTTP/2.</p>

<p>In general this is not entirely useful by itself, as HTTP/2 is a negotiated protocol. This helper does not handle negotiation.
Instead, this simply adds the handlers required to speak HTTP/2 after negotiation has completed, or when agreed by prior knowledge.
Whenever possible use this function to setup a HTTP/2 server pipeline, as it allows that pipeline to evolve without breaking your code.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">configureHTTP2Pipeline</span><span class="p">(</span><span class="nv">mode</span><span class="p">:</span> <span class="kt"><a href="../Classes/NIOHTTP2Handler.html">NIOHTTP2Handler</a></span><span class="o">.</span><span class="kt">ParserMode</span><span class="p">,</span>
                                   <span class="nv">initialLocalSettings</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/HTTP2Setting.html">HTTP2Setting</a></span><span class="p">]</span> <span class="o">=</span> <span class="n"><a href="../Global%20Variables.html#/s:8NIOHTTP218nioDefaultSettingsSayAA12HTTP2SettingVGvp">nioDefaultSettings</a></span><span class="p">,</span>
                                   <span class="nv">position</span><span class="p">:</span> <span class="kt">ChannelPipeline</span><span class="o">.</span><span class="kt">Position</span> <span class="o">=</span> <span class="o">.</span><span class="n">last</span><span class="p">,</span>
                                   <span class="nv">targetWindowSize</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">65535</span><span class="p">,</span>
                                   <span class="nv">inboundStreamInitializer</span><span class="p">:</span> <span class="p">((</span><span class="kt">Channel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)?)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/HTTP2StreamMultiplexer.html">HTTP2StreamMultiplexer</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>mode</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The mode this pipeline will operate in, server or client.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>initialLocalSettings</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The settings that will be used when establishing the connection. These will be sent to the peer as part of the
handshake.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>position</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The position in the pipeline into which to insert these handlers.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>targetWindowSize</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The target size of the HTTP/2 flow control window.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>inboundStreamInitializer</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that will be called whenever the remote peer initiates a new stream. This should almost always
be provided, especially on servers.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An <code>EventLoopFuture</code> containing the <code><a href="../Classes/HTTP2StreamMultiplexer.html">HTTP2StreamMultiplexer</a></code> inserted into this pipeline, which can be used to initiate new streams.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore7ChannelP8NIOHTTP2E27configureHTTP2SecureUpgrade02h2B12Configurator05http1bI0AA15EventLoopFutureCyytGAjaB_pc_AjaB_pctF"></a>
                    <a name="//apple_ref/swift/Method/configureHTTP2SecureUpgrade(h2ChannelConfigurator:http1ChannelConfigurator:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore7ChannelP8NIOHTTP2E27configureHTTP2SecureUpgrade02h2B12Configurator05http1bI0AA15EventLoopFutureCyytGAjaB_pc_AjaB_pctF">configureHTTP2SecureUpgrade(h2ChannelConfigurator:<wbr>http1ChannelConfigurator:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configures a channel to perform a HTTP/2 secure upgrade.</p>

<p>HTTP/2 secure upgrade uses the Application Layer Protocol Negotiation TLS extension to
negotiate the inner protocol as part of the TLS handshake. For this reason, until the TLS
handshake is complete, the ultimate configuration of the channel pipeline cannot be known.</p>

<p>This function configures the channel with a pair of callbacks that will handle the result
of the negotiation. It explicitly <strong>does not</strong> configure a TLS handler to actually attempt
to negotiate ALPN. The supported ALPN protocols are provided in
<code><a href="../Global%20Variables.html#/s:8NIOHTTP20A22SupportedALPNProtocolsSaySSGvp">NIOHTTP2SupportedALPNProtocols</a></code>: please ensure that the TLS handler you are using for your
pipeline is appropriately configured to perform this protocol negotiation.</p>

<p>If negotiation results in an unexpected protocol, the pipeline will close the connection
and no callback will fire.</p>

<p>This configuration is acceptable for use on both client and server channel pipelines.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">configureHTTP2SecureUpgrade</span><span class="p">(</span><span class="nv">h2ChannelConfigurator</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Channel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">,</span>
                                        <span class="nv">http1ChannelConfigurator</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Channel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>h2ChannelConfigurator</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A callback that will be invoked if HTTP/2 has been negogiated, and that
should configure the channel for HTTP/2 use. Must return a future that completes when the
channel has been fully mutated.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>http1ChannelConfigurator</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A callback that will be invoked if HTTP/1.1 has been explicitly
negotiated, or if no protocol was negotiated. Must return a future that completes when the
channel has been fully mutated.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An <code>EventLoopFuture&lt;Void&gt;</code> that completes when the channel is ready to negotiate.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore7ChannelP8NIOHTTP2E33configureCommonHTTPServerPipeline012h2ConnectionB12Configurator_AA15EventLoopFutureCyytGAiaB_pcSg_AiaB_pctF"></a>
                    <a name="//apple_ref/swift/Method/configureCommonHTTPServerPipeline(h2ConnectionChannelConfigurator:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore7ChannelP8NIOHTTP2E33configureCommonHTTPServerPipeline012h2ConnectionB12Configurator_AA15EventLoopFutureCyytGAiaB_pcSg_AiaB_pctF">configureCommonHTTPServerPipeline(h2ConnectionChannelConfigurator:<wbr>_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configures a <code>ChannelPipeline</code> to speak either HTTP or HTTP/2 according to what can be negotiated with the client.</p>

<p>This helper takes care of configuring the server pipeline such that it negotiates whether to
use HTTP/1.1 or HTTP/2. Once the protocol to use for the channel has been negotiated, the
provided callback will configure the application-specific handlers in a protocol-agnostic way.</p>

<p>This function doesn&rsquo;t configure the TLS handler. Callers of this function need to add a TLS
handler appropriately configured to perform protocol negotiation.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">configureCommonHTTPServerPipeline</span><span class="p">(</span>
    <span class="nv">h2ConnectionChannelConfigurator</span><span class="p">:</span> <span class="p">((</span><span class="kt">Channel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
    <span class="n">_</span> <span class="nv">configurator</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Channel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>h2ConnectionChannelConfigurator</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional callback that will be invoked only
when the negotiated protocol is H2 to configure the connection channel.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>configurator</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A callback that will be invoked after a protocol has been negotiated.
The callback only needs to add application-specific handlers and must return a future
that completes when the channel has been fully mutated.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>EventLoopFuture&lt;Void&gt;</code> that completes when the channel is ready.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7NIOCore7ChannelP8NIOHTTP2E33configureCommonHTTPServerPipeline012h2ConnectionB12Configurator16targetWindowSize_AA15EventLoopFutureCyytGAjaB_pcSg_SiAjaB_pctF"></a>
                    <a name="//apple_ref/swift/Method/configureCommonHTTPServerPipeline(h2ConnectionChannelConfigurator:targetWindowSize:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7NIOCore7ChannelP8NIOHTTP2E33configureCommonHTTPServerPipeline012h2ConnectionB12Configurator16targetWindowSize_AA15EventLoopFutureCyytGAjaB_pcSg_SiAjaB_pctF">configureCommonHTTPServerPipeline(h2ConnectionChannelConfigurator:<wbr>targetWindowSize:<wbr>_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Configures a <code>ChannelPipeline</code> to speak either HTTP or HTTP/2 according to what can be negotiated with the client.</p>

<p>This helper takes care of configuring the server pipeline such that it negotiates whether to
use HTTP/1.1 or HTTP/2. Once the protocol to use for the channel has been negotiated, the
provided callback will configure the application-specific handlers in a protocol-agnostic way.</p>

<p>This function doesn&rsquo;t configure the TLS handler. Callers of this function need to add a TLS
handler appropriately configured to perform protocol negotiation.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">configureCommonHTTPServerPipeline</span><span class="p">(</span>
    <span class="nv">h2ConnectionChannelConfigurator</span><span class="p">:</span> <span class="p">((</span><span class="kt">Channel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
    <span class="nv">targetWindowSize</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
    <span class="n">_</span> <span class="nv">configurator</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Channel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>h2ConnectionChannelConfigurator</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional callback that will be invoked only
when the negotiated protocol is H2 to configure the connection channel.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>targetWindowSize</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The target size of the HTTP/2 flow control window.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>configurator</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A callback that will be invoked after a protocol has been negotiated.
The callback only needs to add application-specific handlers and must return a future
that completes when the channel has been fully mutated.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p><code>EventLoopFuture&lt;Void&gt;</code> that completes when the channel is ready.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="https://github.com/apple/swift-nio-http2" target="_blank" rel="external noopener">swift-nio team</a>. All rights reserved. (Last updated: 2022-03-23)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
